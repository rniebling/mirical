<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:t="http://myfaces.apache.org/tomahawk"
	xmlns:sr="http://subito.de/sunrise">

<ui:composition>

	<sr:dataTable value="#{workflow.controller.dataModel}" var="bean"
		sortColumn="#{workflow.controller.dataModel.order}"
		sortAscending="#{workflow.controller.dataModel.ascending}" id="data"
		dataScrollerInfo="true">
		<t:column headerstyle="width:18px;">
			<f:facet name="header">
				<h:outputText value="" />
			</f:facet>
			<h:commandLink id="load_action" action="#{workflow.controller.open}">
				<f:setPropertyActionListener target="#{workflow.controller.valueId}"
					value="#{bean[0]}" />
				<t:graphicImage url="/weblets/icons/open.gif" alt="Ã–ffnen" />
			</h:commandLink>
		</t:column>
		<t:column headerstyle="width:100px;">
			<f:facet name="header">
				<t:commandSortHeader columnName="kurzname" propertyName="kurzname"
					arrow="true">
					<h:outputText value="#{sr:text('label.admin.mandant.kurzname')}" />
				</t:commandSortHeader>
			</f:facet>
			<t:commandLink id="load_action2" action="#{workflow.controller.open}">
				<f:setPropertyActionListener target="#{workflow.controller.valueId}"
					value="#{bean[0]}" />
				<h:outputText value="#{bean[1]}" />
			</t:commandLink>
		</t:column>
		<t:column>
			<f:facet name="header">
				<t:commandSortHeader columnName="name" propertyName="name"
					arrow="true">
					<h:outputText value="#{sr:text('label.admin.mandant.name')}" />
				</t:commandSortHeader>
			</f:facet>
			<t:commandLink id="load_action3" action="#{workflow.controller.open}">
				<f:setPropertyActionListener target="#{workflow.controller.valueId}"
					value="#{bean[0]}" />
				<h:outputText value="#{bean[2]}" />
			</t:commandLink>
		</t:column>
		<t:column rendered="#{!sr:module('Einfache-Administration')}">
			<f:facet name="header">
				<t:commandSortHeader columnName="adresse.ort"
					propertyName="adresse.ort" arrow="true">
					<h:outputText value="#{sr:text('label.admin.mandant.ort')}" />
				</t:commandSortHeader>
			</f:facet>
			<h:outputText value="#{bean[3]}" />
		</t:column>
		<t:column headerstyle="width:150px;"
			rendered="#{!sr:module('Inkasso')}">
			<f:facet name="header">
				<t:commandSortHeader columnName="bankleitzahl"
					propertyName="bankleitzahl" arrow="true">
					<h:outputText value="#{sr:text('label.admin.mandant.blz')}" />
				</t:commandSortHeader>
			</f:facet>
			<t:commandLink id="load_action4" action="#{workflow.controller.open}">
				<f:setPropertyActionListener target="#{workflow.controller.valueId}"
					value="#{bean[0]}" />
				<h:outputText value="#{bean[4]}" />
			</t:commandLink>
		</t:column>
	</sr:dataTable>
	<t:div styleClass="_btn">
		<h:commandButton id="create_action" styleClass="_button btn_new"
			rendered="#{sr:module('Mehrmandanten')}"
			value="#{sr:text('label.new')}" disabled="#{workflow.readonly}"
			action="#{pc.create}" />
	</t:div>
</ui:composition>
</html>